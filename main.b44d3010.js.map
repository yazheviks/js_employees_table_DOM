{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tBodie","tBodies","headerItems","rows","cells","sorter","toNumber","cellContent","number","Number","split","join","isNaN","pushNotification","top","right","title","description","type","notification","createElement","innerHTML","style","body","append","classList","add","window","setTimeout","remove","forEach","cell","index","content","textContent","toLowerCase","order","ASC","a","b","localeCompare","DESC","addEventListener","event","target","indexOf","people","sortedPeople","sort","prev","next","prevCell","nextCell","closest","row","contains","form","e","preventDefault","name","value","length","age","newRow","labels","querySelectorAll","firstElementChild","toLocaleString","text","children","input","inputText","code"],"mappings":"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","file":"main.b44d3010.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tBodie = table.tBodies[0];\nconst headerItems = [...table.rows[0].cells];\nconst sorter = {};\n\nfunction toNumber(cellContent) {\n  const number = Number(cellContent.split(',').join('').split('$').join(''));\n\n  if (isNaN(number)) {\n    return cellContent;\n  } else {\n    return number;\n  }\n}\n\nfunction pushNotification(top, right, title, description, type) {\n  const notification = document.createElement('div');\n\n  notification.innerHTML = `\n    <h2>${title}</h2>\n    <p>${description}</p>\n  `;\n\n  notification.style.top = top;\n  notification.style.right = right;\n\n  document.body.append(notification);\n  notification.classList.add('notification');\n  notification.classList.add(type);\n\n  window.setTimeout(() => notification.remove(), 2000);\n}\n\n// sorter creation\n\nheaderItems.forEach((cell, index) => {\n  const content = cell.textContent.toLowerCase();\n  const type = typeof toNumber(table.rows[1].cells[index].textContent);\n\n  sorter[content] = {\n    order: 'ASC',\n    ASC: (a, b) => {\n      return type === 'number'\n        ? toNumber(a) - toNumber(b)\n        : a.localeCompare(b);\n    },\n\n    DESC: (a, b) => {\n      return type === 'number'\n        ? toNumber(b) - toNumber(a)\n        : b.localeCompare(a);\n    },\n  };\n});\n\n// table sorting by clicking on the title (this time in two directions)\n\ntable.addEventListener('click', event => {\n  const target = event.target;\n  const index = headerItems.indexOf(target);\n\n  if (index !== -1) {\n    const people = [...tBodie.rows];\n    const content = headerItems[index].textContent.toLowerCase();\n    const callback = function(prev, next) {\n      const prevCell = prev.cells[index].textContent;\n      const nextCell = next.cells[index].textContent;\n\n      return sorter[content][sorter[content].order](prevCell, nextCell);\n    };\n\n    const sortedPeople = people.sort(callback);\n\n    if (sorter[content].order === 'ASC') {\n      sorter[content].order = 'DESC';\n    } else {\n      sorter[content].order = 'ASC';\n    }\n\n    tBodie.append(...sortedPeople);\n  }\n});\n\n// When you click on a row of the table, it should become selected\n\ntable.addEventListener('click', event => {\n  const rows = [...tBodie.rows];\n  const index = rows.indexOf(event.target.closest('tr'));\n\n  rows.forEach(row => {\n    if (row.classList.contains('active')) {\n      row.classList.remove('active');\n    }\n  });\n\n  if (index !== -1) {\n    rows[index].classList.add('active');\n  }\n});\n\n// add a form to the document, add new employees to the spreadsheet\n// Throw notification if form data is invalid\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n  <label>\n    Name:\n    <input\n      name=\"name\"\n      type=\"text\"\n      required=\"true\"\n    >\n  </label>\n\n  <label>\n    Position:\n    <input\n      name=\"position\"\n      type=\"text\"\n      required=\"true\"\n    >\n  </label>\n\n  <label>\n    Office:\n    <select required name=\"office\">\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburgh</option>\n      <option>San Francisco</option>\n    </select>\n  </label>\n\n  <label>\n    Age:\n    <input\n      name=\"age\"\n      type=\"number\"\n      required=\"true\"\n    >\n  </label>\n\n  <label>\n    Salary:\n    <input\n      name=\"salary\"\n      type=\"number\"\n      required=\"true\"\n    >\n  </label>\n\n  <button>Save to table</button>\n`;\n\ndocument.body.append(form);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  if (form.name.value.length < 4) {\n    pushNotification(\n      '100px',\n      '100px',\n      'Short name',\n      'Should not be less than 4 digits',\n      'error'\n    );\n  } else if (+form.age.value < 18 || +form.age.value > 90) {\n    pushNotification(\n      '100px',\n      '100px',\n      'Go rest!',\n      'Sorry, you cannot be our employee :(',\n      'error'\n    );\n  } else {\n    const newRow = document.createElement('tr');\n    const labels = form.querySelectorAll('label');\n\n    newRow.innerHTML = `\n      <td>${labels[0].firstElementChild.value}</td>\n      <td>${labels[1].firstElementChild.value}</td>\n      <td>${labels[2].firstElementChild.value}</td>\n      <td>${labels[3].firstElementChild.value}</td>\n      <td>\n        $${Number(labels[4].firstElementChild.value).toLocaleString('en-En')}\n      </td>\n    `;\n\n    tBodie.append(newRow);\n\n    pushNotification(\n      '100px',\n      '100px',\n      'Welcome!',\n      'We are happy to see you in our team!',\n      'success'\n    );\n  }\n});\n\n// editing of table cells by double-clicking on it\n\ntBodie.addEventListener('dblclick', event => {\n  event.preventDefault();\n\n  const cell = event.target;\n  const text = cell.textContent;\n\n  cell.innerHTML = `\n    <input name=\"change\" value=\"${text}\" class=\"cell-input\">\n  `;\n\n  document.body.addEventListener('click', e => {\n    if (e.target !== cell.children[0]) {\n      const input = cell.children[0];\n      let inputText = input.value;\n\n      if (inputText === '') {\n        inputText = text;\n      }\n\n      cell.innerHTML = inputText;\n    }\n  });\n\n  document.body.addEventListener('keyup', e => {\n    if (e.code === 'Enter') {\n      const input = cell.children[0];\n      let inputText = input.value;\n\n      if (inputText === '') {\n        inputText = text;\n      }\n\n      cell.innerHTML = inputText;\n    }\n  });\n});\n"]}